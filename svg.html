<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>SVG Animate</title>
	<style type="text/css">
		.makeLove{width:100px;height:50px;background:#d81e06;color:#fff;border-radius:4px;text-align: center;line-height: 50px;margin:0 auto;text-shadow:0 0 1px #333;}
		.makeLove:hover{cursor:pointer;transition:background 1s;-webkit-transition:background 1s;background:red;}
		.svg_wrap{position:relative;margin:0 auto;width:500px;}
		.svg_new{position:absolute;left:0;top:0;}
	</style>
</head>
<body>
<div class="svg_wrap">
	<svg width="500" height="450" viewBox="0 0 500 350" class="love1">
	  <path id="motionPath" fill="none" stroke-miterlimit="10" d="M239.5,460.5s-108-70,0-168,15-195,0-202" fill="none"/>
	  <g id="car" class="car" transform="translate(0,0)" width="50" height="50">
			<svg t="1491032154416" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1444" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50">
				<path d="M1013.8 351.4c0-169.4-131.3-307.2-292.4-307.2-79.6 0-154.9 34.8-209.3 94.1C457.5 79 382.2 44.2 302.7 44.2c-161.2 0-292.4 137.7-292.4 307.2 0 5.7 0.5 10.8 1 14.9-0.1 1.4-0.2 2.7-0.2 4.2 0 30 7.2 62.9 21.3 98 0.5 1.3 0.9 2.5 1.4 3.6 89.1 216.4 432.1 465.3 446.7 476.8 9.1 7.1 19.8 10.5 30.7 10.5 11 0 21.8-3.6 31-10.8 12.5-9.9 305-223 421.2-424.8 4.4-6.8 7.7-13.4 10.7-19.1 0.9-1.8 1.7-3.6 2.7-5.4l0.4-0.8c0.4-0.7 0.8-1.4 1.3-2 7-13.7 12.5-26.5 16.9-38.9 12-32 18-60.4 18-87 0-2-0.1-3.9-0.2-5.4C1013.4 361.7 1013.8 357 1013.8 351.4z" fill="#d81e06" class="love">
				<animate attributeType="CSS" attributeName="opacity" from="1" to="0" dur="3s" repeatCount="indefinite" />
				</path>
			</svg>
	  </g>
	  <animateMotion
	           xlink:href="#car"
	           dur="3s"
	           begin="0s"
	           fill="freeze"
	           repeatCount="indefinite"
	           rotate="0">
	    <mpath xlink:href="#motionPath" />
	  </animateMotion>
	</svg>
</div> 

<div class="makeLove">赞</div>
<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.js"></script>
<script type="text/javascript">
	~$(function(){
		//颜色值		
                var colorArr = ['18EA6C','7AF442','F7D857','F97446','4F46F9','F946EC','F94671','F92121','2FF7EC'];
		var makeLove = $(".makeLove");
		var svg_wrap = $(".svg_wrap");
		var sum = 1;
		var x,y,flag;
		flag = true;

		function random(Min,Max){
		      var Range = Max - Min;
		      var Rand = Math.random();
		      var num = Min + Math.round(Rand * Range);
		      return num;
		}


		makeLove.on('click',function(){
			if(!flag){
				return false;
			}
			sum++;
			x = Math.random() * 50;
			y = colorArr[random(0,8)];

			var svg_dom = '<svg width="500" height="450" viewBox="0 0 500 350" class="love1 svg_new svg_new_'+sum+'" style="left:'+x+'px;">'+
							  '<path id="motionPath_'+sum+'" fill="none" stroke-miterlimit="10" d="M239.5,460.5s-108-70,0-168,15-195,0-202" fill="none"/>'+
							  '<g id="car_'+sum+'" class="car" transform="translate(0,0)" width="50" height="50">'+
									'<svg t="1491032154416" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1444" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50">'+
										'<path d="M1013.8 351.4c0-169.4-131.3-307.2-292.4-307.2-79.6 0-154.9 34.8-209.3 94.1C457.5 79 382.2 44.2 302.7 44.2c-161.2 0-292.4 137.7-292.4 307.2 0 5.7 0.5 10.8 1 14.9-0.1 1.4-0.2 2.7-0.2 4.2 0 30 7.2 62.9 21.3 98 0.5 1.3 0.9 2.5 1.4 3.6 89.1 216.4 432.1 465.3 446.7 476.8 9.1 7.1 19.8 10.5 30.7 10.5 11 0 21.8-3.6 31-10.8 12.5-9.9 305-223 421.2-424.8 4.4-6.8 7.7-13.4 10.7-19.1 0.9-1.8 1.7-3.6 2.7-5.4l0.4-0.8c0.4-0.7 0.8-1.4 1.3-2 7-13.7 12.5-26.5 16.9-38.9 12-32 18-60.4 18-87 0-2-0.1-3.9-0.2-5.4C1013.4 361.7 1013.8 357 1013.8 351.4z" fill="#'+y+'" class="love">'+
											'<animate attributeType="CSS" attributeName="opacity" from="1" to="0" dur="3s" repeatCount="indefinite" />'+
										'</path>'+
									'</svg>'+
							  '</g>'+
							  '<animateMotion xlink:href="#car_'+sum+'" dur="3s" begin="0s" fill="freeze" repeatCount="indefinite" rotate="0">'+
							    '<mpath xlink:href="#motionPath_'+sum+'" />'+
							  '</animateMotion>'+
						  '</svg>';
			flag = false;
			svg_wrap.append(svg_dom);
			flag = true;
		});

	});
		
</script> 

</body>
</html>
